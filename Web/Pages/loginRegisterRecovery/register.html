<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Registro</title>

    <!-- CSS del template -->
    <link rel="stylesheet" href="../../Style/Template_style/auth-card.css">
    <link rel="stylesheet" href="../../Style/Template_style/header.css">
    <link rel="stylesheet" href="../../Style/Template_style/footer.css">

    <!-- CSS específico de esta página -->
    <link rel="stylesheet" href="../../Style/Pages_style/loginRegisterRecovery/register.css">
</head>

<body>

<div id="header-placeholder"></div>

<main class="auth">
    <section class="auth-card" aria-labelledby="register-title">
        <h1 id="register-title" class="auth-card__title">Lorem Ipsum</h1>

        <p class="auth-card__description">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>

        <form class="auth-card__form" action="./login.html" method="get">

            <!-- Usuario -->
            <div class="field">
                <span class="field__icon-left" aria-hidden="true">×</span>
                <label class="field__label" for="reg-user">Usuario</label>
                <input
                        id="reg-user"
                        class="field__input"
                        type="text"
                        placeholder="Lorem Ipsum"
                        autocomplete="username"
                        required
                />
                <button class="field__clear" type="button" aria-label="Borrar usuario"></button>
            </div>

            <!-- Correo -->
            <div class="field">
                <span class="field__icon-left" aria-hidden="true">×</span>
                <label class="field__label" for="reg-email">Correo electrónico</label>
                <input
                        id="reg-email"
                        class="field__input"
                        type="email"
                        placeholder="Lorem Ipsum"
                        autocomplete="email"
                        required
                />
                <button class="field__clear" type="button" aria-label="Borrar correo"></button>
            </div>

            <!-- Repetir correo (si tu Figma lo pide) -->
            <div class="field">
                <span class="field__icon-left" aria-hidden="true">×</span>
                <label class="field__label" for="reg-email-2">Repetir correo electrónico</label>
                <input
                        id="reg-email-2"
                        class="field__input"
                        type="email"
                        placeholder="Lorem Ipsum"
                        autocomplete="email"
                        required
                />
                <button class="field__clear" type="button" aria-label="Borrar repetición de correo"></button>
            </div>

            <!-- Contraseña -->
            <div class="field">
                <span class="field__icon-left" aria-hidden="true">×</span>
                <label class="field__label" for="reg-pass">Contraseña</label>
                <input
                        id="reg-pass"
                        class="field__input"
                        type="password"
                        placeholder="Lorem Ipsum"
                        autocomplete="new-password"
                        required
                />
                <button class="field__clear" type="button" aria-label="Borrar contraseña"></button>
            </div>

            <!-- Repetir contraseña -->
            <div class="field">
                <span class="field__icon-left" aria-hidden="true">×</span>
                <label class="field__label" for="reg-pass-2">Repetir contraseña</label>
                <input
                        id="reg-pass-2"
                        class="field__input"
                        type="password"
                        placeholder="Lorem Ipsum"
                        autocomplete="new-password"
                        required
                />
                <button class="field__clear" type="button" aria-label="Borrar repetición de contraseña"></button>
            </div>

            <!-- Checkbox (opcional) -->
            <label class="check">
                <input class="check__input" type="checkbox" />
                <span class="check__text">Lorem Ipsum</span>
            </label>

            <!-- Botón -->
            <button class="auth-card__btn" type="submit">Lorem Ipsum</button>

            <!-- Link -->
            <a class="auth-card__link" href="./login.html">¿Ya tienes cuenta? Inicia sesión</a>

        </form>
    </section>
</main>

<div id="footer-placeholder"></div>

<script>
    function loadComponent(id, file) {
        fetch(file)
            .then(response => {
                if (!response.ok) throw new Error('Error cargando ' + file);
                return response.text();
            })
            .then(data => document.getElementById(id).innerHTML = data)
            .catch(error => console.error('Hubo un problema con fetch:', error));
    }

    // Header y Footer (rutas correctas desde Pages/loginRegisterRecovery/)
    loadComponent('header-placeholder', '../Template/header.html');
    loadComponent('footer-placeholder', '../Template/footer.html');

    // Clear buttons (idéntico a login.html)
    document.querySelectorAll('.field').forEach(field => {
        const input = field.querySelector('.field__input');
        const clearBtn = field.querySelector('.field__clear');

        const toggleClear = () => {
            const hasValue = input.value.trim().length > 0;
            clearBtn.classList.toggle('is-visible', hasValue);
        };

        toggleClear();
        input.addEventListener('input', toggleClear);
        input.addEventListener('blur', toggleClear);
        input.addEventListener('focus', toggleClear);

        clearBtn.addEventListener('click', () => {
            input.value = '';
            toggleClear();
            input.focus();
        });
    });
</script>

</body>
</html>